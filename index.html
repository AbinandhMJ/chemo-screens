<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chemotherapy Administration & Progress Tracking</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
            font-size: 12px;
        }

        .container {
            background-color: #e6f3ff;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 15px;
            max-width: 1400px;
            margin: 0 auto;
        }
        .spacing {
    margin-top: 17px;
    margin-bottom: 2px;
    font-size: 12px;
    font-weight: 500;
}

        .header {
            background-color: #d1e7dd;
            padding: 8px 12px;
            border-radius: 3px;
            margin-bottom: 15px;
            font-weight: bold;
            color: #0f5132;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }

        .status-planned {
            background-color: #fff3cd;
            color: #856404;
        }

        .status-inprogress {
            background-color: #d1ecf1;
            color: #0c5460;
        }

        .status-completed {
            background-color: #d4edda;
            color: #155724;
        }

        .status-delayed {
            background-color: #f8d7da;
            color: #721c24;
        }

        .status-modified {
            background-color: #e2e3e5;
            color: #383d41;
        }

        .tabs {
            display: flex;
            margin-bottom: 15px;
            border-bottom: 2px solid #dee2e6;
        }

        .tab {
            padding: 8px 16px;
            cursor: pointer;
            border: none;
            background: none;
            font-weight: bold;
            color: #495057;
            border-bottom: 2px solid transparent;
        }

        .tab.active {
            color: #007bff;
            border-bottom-color: #007bff;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .protocol-section {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 3px;
            padding: 12px;
            margin-bottom: 15px;
        }

        .protocol-section h4 {
            font-size: 13px;
        }

        .protocol-header {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .protocol-field {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .protocol-field label {
            font-weight: bold;
            font-size: 11px;
            color: #333;
        }

        .protocol-field input,
        .protocol-field select {
            padding: 3px 5px;
            border: 1px solid #ccc;
            border-radius: 2px;
            font-size: 11px;
        }

        .daily-progress {
            background-color: #fff;
            border: 1px solid #dee2e6;
            border-radius: 3px;
            padding: 12px;
            margin-bottom: 15px;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #dee2e6;
        }

        .date-navigation {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
        }

        .nav-btn:hover {
            background: #0056b3;
        }

        .current-date {
            font-weight: bold;
            font-size: 14px;
            color: #495057;
        }

        .medication-table {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
            margin-bottom: 15px;
        }

        .medication-table th {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 8px 4px;
            text-align: center;
            font-weight: bold;
            font-size: 13px;
            color: #495057;
        }

        .medication-table td {
            border: 1px solid #dee2e6;
            padding: 4px;
            text-align: center;
            vertical-align: middle;
            font-size: 14px;

        }
        .category-cell {
            background-color: #e3f2fd;
            font-weight: bold;
            font-size: 10px;
            text-align: left;
            padding-left: 8px;
            width: 120px;
        }

        .drug-name {
            font-weight: bold;
            color: #1976d2;
            text-align: left !important;
            padding-left: 8px;
        }

        .input-small {
            width: 50px;
            padding: 2px 4px;
            border: 1px solid #ccc;
            border-radius: 2px;
            font-size: 11px;
        }

        .input-medium {
            width: 80px;
            padding: 2px 4px;
            border: 1px solid #ccc;
            border-radius: 2px;
            font-size: 11px;
        }

        .select-small {
            width: 70px;
            padding: 2px 4px;
            border: 1px solid #ccc;
            border-radius: 2px;
            font-size: 11px;
        }

        .select-medium {
            width: 90px;
            padding: 2px 4px;
            border: 1px solid #ccc;
            border-radius: 2px;
            font-size: 11px;
        }

        .admin-status {
            display: flex;
            flex-direction: column;
            gap: 2px;
            align-items: center;
        }

        .status-dropdown {
            width: 80px;
            font-size: 10px;
            padding: 2px;
        }

        .time-input {
            width: 60px;
            font-size: 10px;
            padding: 1px;
        }

        .action-buttons {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .btn-icon {
            background: none;
            border: none;
            color: #007bff;
            cursor: pointer;
            font-size: 16px;
            padding: 2px;
        }

        .btn-icon:hover {
            color: #0056b3;
        }

        .footer-buttons {
            display: flex;
            gap: 10px;
            justify-content: space-between;
            margin-top: 20px;
        }

        .btn {
            padding: 6px 12px;
            border: 1px solid #ccc;
            border-radius: 3px;
            background-color: #f8f9fa;
            cursor: pointer;
            font-size: 11px;
        }

        .btn:hover {
            background-color: #e9ecef;
        }

        .btn-primary {
            background-color: #007bff;
            color: white;
            border-color: #007bff;
        }

        .btn-primary:hover {
            background-color: #0056b3;
        }

        .btn-warning {
            background-color: #ffc107;
            color: #212529;
            border-color: #ffc107;
        }

        .btn-danger {
            background-color: #dc3545;
            color: white;
            border-color: #dc3545;
        }

        .notes-textarea {
            width: 100px;
            height: 30px;
            padding: 2px 4px;
            border: 1px solid #ccc;
            border-radius: 2px;
            font-size: 10px;
            resize: vertical;
        }

        .side-effects-section {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 3px;
            padding: 12px;
            margin-bottom: 15px;
        }

        .side-effects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }

        .side-effect-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
        }

        .severity-select {
            width: 80px;
            font-size: 12px;
            padding: 2px;
        }

        .lab-values {
            background-color: #e8f5e8;
            border: 1px solid #c3e6c3;
            border-radius: 3px;
            padding: 12px;
            margin-bottom: 15px;
        }

        .lab-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }

        .lab-item {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .lab-item label {
            font-weight: bold;
            font-size: 12px;
            color: #155724;
        }

        .lab-input {
            padding: 3px 5px;
            border: 1px solid #c3e6c3;
            border-radius: 2px;
            font-size: 12px;
        }

        .dose-modification {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 3px;
            padding: 12px;
            margin-bottom: 15px;
        }

        .modification-reason {
            width: 100%;
            padding: 5px;
            border: 1px solid #f5c6cb;
            border-radius: 2px;
            font-size: 11px;
            margin-top: 5px;
        }

        .progress-timeline {
            background-color: white;
            border: 1px solid #dee2e6;
            border-radius: 3px;
            padding: 12px;
            margin-bottom: 15px;
        }

        .timeline-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 0;
            border-bottom: 1px solid #f8f9fa;
        }

        .timeline-time {
            min-width: 80px;
            font-weight: bold;
            font-size: 12px;
            color: #6c757d;
        }

        .timeline-event {
            flex: 1;
            font-size: 12px;
        }

        .timeline-status {
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: bold;
        }

        .row-completed {
            background-color: #d4edda !important;
        }

        .row-delayed {
            background-color: #f8d7da !important;
        }

        .row-modified {
            background-color: #fff3cd !important;
        }

        input[type="text"] {
            width: 45px;
        }

        .editable-table td[contenteditable="true"],
        div[contenteditable="true"] {
            cursor: text;
            transition: background-color 0.2s ease;
        }

        .editable-table td[contenteditable="true"]:hover,
        div[contenteditable="true"]:hover {
            background-color: #f0f8ff;
        }

        .editable-table td[contenteditable="true"]:focus,
        div[contenteditable="true"]:focus {
            outline: 2px solid #007bff;
            background-color: #e9f7fe;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <span style="font-size: 13px;">Chemotherapy Administration & Progress Tracking</span>
            <div style="display: flex; gap: 20px; align-items: center;">
                <span class="status-badge status-inprogress" contenteditable="true">Cycle 1 Day 1 - In Progress</span>
                <span style="font-size: 13px;" contenteditable="true">Patient: John Doe | MRN: 12345 | Protocol:
                    FOLFOX</span>
            </div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('current-day')">Current Day</button>
            <button class="tab" onclick="showTab('cycle-overview')">Cycle Overview</button>
            <button class="tab" onclick="showTab('progress-notes')">Progress Notes</button>
            <button class="tab" onclick="showTab('side-effects')">Side Effects</button>
        </div>

        <!-- Current Day Tab -->
        <div id="current-day" class="tab-content active">
            <div class="daily-progress">
                <div class="progress-header">
                    <h3 style="margin: 0;">Daily Administration Progress</h3>
                    <div class="date-navigation">
                        <button class="nav-btn" onclick="changeDate(-1)">‚Üê Prev Day</button>
                        <span class="current-date" id="current-date"></span>
                        </span>
                        <button class="nav-btn" onclick="changeDate(1)">Next Day ‚Üí</button>
                    </div>
                </div>

                <table class="medication-table">
                    <thead>
                        <tr>
                            <th style="width: 120px;">Category</th>
                            <th style="width: 14px;">Pkg</th>
                            <th style="width: 140px;">Drug Name</th>
                            <th style="width: 70px;">Dose Basis</th>
                            <th style="width: 70px;">Final Dose</th>
                            <th style="width: 70px;">Route</th>
                            <th style="width: 70px;">Frequency</th>
                            <th style="width: 70px;">Duration</th>
                            <th style="width: 70px;">Diluent</th>
                            <th style="width: 20px;">Diluent<br>Vol(ml)</th>
                            <th style="width: 70px;">Give Over</th>
                            <th style="width: 90px;">Administration Status</th>
                            <th style="width: 80px;">Start Time</th>
                            <th style="width: 80px;">End Time</th>
                            <th style="width: 100px;">Notes/Reactions</th>
                            <th style="width: 60px;">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="row-completed" style="background-color: #e6f3ff;">
                            <td class="category-cell">1.Supportive And Premedication</td>
                            <td><input type="text" value="inj"></td>
                            <td contenteditable="true" class="drug-name"> Ondansetron</td>
                            <td><input type="text" value=""></td>
                            <td><input type="text" value="8 mg"></td>
                            <td><input type="text" value="IV"></td>
                            <td><input type="text" value="Once"></td>
                            <td><input type="text" value="1 DAY"></td>
                            <td>
                                <select>
                                    <option value="normal_saline" selected>Normal Saline</option>
                                    <option value="Lactate_ringers">Lactate Ringer's</option>
                                    <option value="sterile_water">Sterile Water</option>
                                    <option value="dns">DNS</option>
                                </select>
                            </td>
                            <td><input type="text" placeholder="30 ml"></td>
                            <td>
                                <select>
                                    <option value="15" selected>15 min</option>
                                    <option value="30">30 min</option>
                                    <option value="45">45 min</option>
                                    <option value="60">60 min (1 hr)</option>
                                    <option value="90">90 min</option>
                                    <option value="120">120 min (2 hrs)</option>
                                </select>
                            </td>
                            <td>
                                <select>
                                    <option>Planned</option>
                                    <option>Started</option>
                                    <option>Completed</option>
                                    <option>Delayed</option>
                                    <option>Held</option>
                                </select>
                            </td>
                            <td><input type="time"></td>
                            <td><input type="time"></td>
                            <td><textarea></textarea></td>
                            <td class="action-buttons">
                                <button class="btn-icon" title="Mark Complete">‚úì</button>
                                <button class="btn-icon" title="Edit">‚úè</button>
                            </td>
                        </tr>

                        <!-- Repeat for other rows -->
                        <tr style="background-color: #fff3cd;">
                            <td class="category-cell">1.Supportive And Premedication</td>
                            <td><input type="text" value="inj"></td>
                            <td contenteditable="true" class="drug-name">Dolo</td>
                            <td><input type="text" value=""></td>
                            <td><input type="text" value="25 mg"></td>
                            <td><input type="text" value="IV"></td>
                            <td><input type="text" value="Once"></td>
                            <td><input type="text" value="1 DAY"></td>
                            <td>
                                <select>
                                    <option value="normal_saline" selected>Normal Saline</option>
                                    <option value="Lactate_ringers">Lactate Ringer's</option>
                                    <option value="sterile_water">Sterile Water</option>
                                    <option value="dns">DNS</option>
                                </select>
                            </td>
                            <td><input type="text" placeholder="30 ml"></td>
                            <td>
                                <select>
                                    <option value="15" selected>15 min</option>
                                    <option value="30">30 min</option>
                                    <option value="45">45 min</option>
                                    <option value="60">60 min (1 hr)</option>
                                    <option value="90">90 min</option>
                                    <option value="120">120 min (2 hrs)</option>
                                </select>
                            </td>
                            <td>
                                <select>
                                    <option>Planned</option>
                                    <option>Started</option>
                                    <option>Completed</option>
                                    <option>Delayed</option>
                                    <option>Held</option>
                                </select>
                            </td>
                            <td><input type="time"></td>
                            <td><input type="time"></td>
                            <td><textarea></textarea></td>
                            <td class="action-buttons">
                                <button class="btn-icon" title="Mark Complete">‚úì</button>
                                <button class="btn-icon" title="Edit">‚úè</button>
                            </td>
                        </tr>
                        <tr>
                            <td class="category-cell">Supportive & Premedication</td>
                            <td><input type="text" value="inj"></td>
                            <td contenteditable="true" class="drug-name"> Ondansetron</td>
                            <td><input type="text"></td>
                            <td><input type="text" value="8 mg"></td>
                            <td><input type="text" value="IV"></td>
                            <td><input type="text" value="Once"></td>
                            <td><input type="text" value="1 DAY"></td>
                            <td>
                                <select>
                                    <option value="normal_saline" selected>Normal Saline</option>
                                    <option value="lactate_ringers">Lactate Ringer's</option>
                                    <option value="sterile_water">Sterile Water</option>
                                    <option value="dns">DNS</option>
                                </select>
                            </td>
                            <td><input type="text" placeholder="30 ml"></td>
                            <td>
                                <select>
                                    <option value="15" selected>15 min</option>
                                    <option value="30">30 min</option>
                                    <option value="45">45 min</option>
                                    <option value="60">60 min (1 hr)</option>
                                    <option value="90">90 min</option>
                                    <option value="120">120 min (2 hrs)</option>
                                </select>
                            </td>
                            <td>
                                <select>
                                    <option>Planned</option>
                                    <option>Started</option>
                                    <option>Completed</option>
                                    <option>Delayed</option>
                                    <option>Held</option>
                                </select>
                            </td>
                            <td><input type="time"></td>
                            <td><input type="time"></td>
                            <td><textarea></textarea></td>
                            <td class="action-buttons">
                                <button onclick="deleteRow(this)">üóë</button>
                            </td>
                        </tr>
                    </tbody>
                </table>


                <div class="lab-values">
                    <h3 style="margin: 0 0 10px 0; color: #155724;">Today's Lab Values & Vitals</h3>
                    <div class="lab-grid">
                        <div class="lab-item">
                            <label>ANC (cells/ŒºL)</label>
                            <input type="number" class="lab-input" value="2100">
                        </div>
                        <div class="lab-item">
                            <label>Platelets (√ó10¬≥/ŒºL)</label>
                            <input type="number" class="lab-input" value="185">
                        </div>
                        <div class="lab-item">
                            <label>Creatinine (mg/dL)</label>
                            <input type="number" step="0.1" class="lab-input" value="1.1">
                        </div>
                        <div class="lab-item">
                            <label>Bilirubin (mg/dL)</label>
                            <input type="number" step="0.1" class="lab-input" value="0.8">
                        </div>
                        <div class="lab-item">
                            <label>Temperature (¬∞F)</label>
                            <input type="number" step="0.1" class="lab-input" value="98.6">
                        </div>
                        <div class="lab-item">
                            <label>Blood Pressure</label>
                            <input type="text" class="lab-input" value="120/80">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Side Effects Tab -->
        <div id="side-effects" class="tab-content">
            <div class="side-effects-section">
                <h3 style="margin: 0 0 10px 0; color: #856404;" contenteditable="true">
                    Toxicity Assessment & Management
                </h3>

                <div class="side-effects-grid">
                    <div class="side-effect-item">
                        <label style="min-width: 100px;" contenteditable="true">Nausea/Vomiting:</label>
                        <select class="severity-select">
                            <option value="0">Grade 0</option>
                            <option value="1">Grade 1</option>
                            <option value="2" selected>Grade 2</option>
                            <option value="3">Grade 3</option>
                            <option value="4">Grade 4</option>
                        </select>
                    </div>

                    <div class="side-effect-item">
                        <label style="min-width: 100px;" contenteditable="true">Diarrhea:</label>
                        <select class="severity-select">
                            <option value="0" selected>Grade 0</option>
                            <option value="1">Grade 1</option>
                            <option value="2">Grade 2</option>
                            <option value="3">Grade 3</option>
                            <option value="4">Grade 4</option>
                        </select>
                    </div>

                    <div class="side-effect-item">
                        <label style="min-width: 100px;" contenteditable="true">Neuropathy:</label>
                        <select class="severity-select">
                            <option value="0" selected>Grade 0</option>
                            <option value="1">Grade 1</option>
                            <option value="2">Grade 2</option>
                            <option value="3">Grade 3</option>
                            <option value="4">Grade 4</option>
                        </select>
                    </div>

                    <div class="side-effect-item">
                        <label style="min-width: 100px;" contenteditable="true">Fatigue:</label>
                        <select class="severity-select">
                            <option value="0">Grade 0</option>
                            <option value="1" selected>Grade 1</option>
                            <option value="2">Grade 2</option>
                            <option value="3">Grade 3</option>
                            <option value="4">Grade 4</option>
                        </select>
                    </div>

                    <div class="side-effect-item">
                        <label style="min-width: 100px;" contenteditable="true">Mucositis:</label>
                        <select class="severity-select">
                            <option value="0" selected>Grade 0</option>
                            <option value="1">Grade 1</option>
                            <option value="2">Grade 2</option>
                            <option value="3">Grade 3</option>
                            <option value="4">Grade 4</option>
                        </select>
                    </div>

                    <div class="side-effect-item">
                        <label style="min-width: 100px;" contenteditable="true">Skin Changes:</label>
                        <select class="severity-select">
                            <option value="0" selected>Grade 0</option>
                            <option value="1">Grade 1</option>
                            <option value="2">Grade 2</option>
                            <option value="3">Grade 3</option>
                            <option value="4">Grade 4</option>
                        </select>
                    </div>
                </div>

                <div class="dose-modification" style="margin-top: 15px;">
                    <h3 style="margin: 0 0 10px 0; color: #721c24;" contenteditable="true">
                        Dose Modifications
                    </h3>

                    <div style="display: flex; gap: 15px; align-items: center;">
                        <label contenteditable="true" style="font-size: 13px;font-weight: 600;">
                            <input type="checkbox"> Dose Reduction Required
                        </label>
                        <label contenteditable="true" style="font-size: 13px;font-weight: 600;">
                            <input type="checkbox"> Treatment Delay
                        </label>
                        <label contenteditable="true" style="font-size: 13px;font-weight: 600;">
                            <input type="checkbox"> Drug Discontinuation
                        </label>
                    </div>

                    <textarea class="modification-reason" rows="3"
                        placeholder="Reason for modification and clinical decision..."
                        style="width: 100%; margin-top: 10px; font-size: 12px;">Grade 2 nausea requiring additional antiemetics. Consider dose reduction for next cycle if persists.</textarea>
                </div>
            </div>
        </div>


        <!-- Progress Notes Tab -->
        <div id="progress-notes" class="tab-content">
            <div class="progress-timeline">
                <h3 style="margin: 0 0 15px 0;">Treatment Timeline</h3>

                <div class="timeline-item">
                    <div class="timeline-time" contenteditable="true">08:00</div>
                    <div class="timeline-event" contenteditable="true">Pre-medication started (dexamethasone 12mg PO)
                    </div>
                    <div class="timeline-status status-completed" contenteditable="true">Completed</div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-time" contenteditable="true">09:00</div>
                    <div class="timeline-event" contenteditable="true">IV access established, ondansetron 8mg
                        administered</div>
                    <div class="timeline-status status-completed" contenteditable="true">Completed</div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-time" contenteditable="true">09:30</div>
                    <div class="timeline-event" contenteditable="true">Pre-treatment labs reviewed - all within
                        acceptable range</div>
                    <div class="timeline-status status-completed" contenteditable="true">Completed</div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-time" contenteditable="true">10:00</div>
                    <div class="timeline-event" contenteditable="true">Oxaliplatin and Leucovorin infusion started</div>
                    <div class="timeline-status status-inprogress" contenteditable="true">In Progress</div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-time" contenteditable="true">10:30</div>
                    <div class="timeline-event" contenteditable="true">Patient reports mild nausea, given additional
                        ondansetron</div>
                    <div class="timeline-status status-completed" contenteditable="true">Completed</div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-time" contenteditable="true">12:30</div>
                    <div class="timeline-event" contenteditable="true">5-FU bolus administration (scheduled)</div>
                    <div class="timeline-status status-planned" contenteditable="true">Planned</div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-time" contenteditable="true">13:00</div>
                    <div class="timeline-event" contenteditable="true">5-FU continuous infusion setup (scheduled)</div>
                    <div class="timeline-status status-planned" contenteditable="true">Planned</div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-time" contenteditable="true">15:00</div>
                    <div class="timeline-event" contenteditable="true">Patient education on home pump management</div>
                    <div class="timeline-status status-planned" contenteditable="true">Planned</div>
                </div>
            </div>

            <div class="protocol-section">
                <h3 style="margin: 0 0 15px 0;">Daily Progress Notes</h3>

                <div style="margin-bottom: 15px;">
                    <label style="font-weight: bold; display: block; margin-bottom: 5px;">Today's Assessment:</label>
                    <textarea contenteditable="true"
                        style="width: 100%; height: 80px; padding: 8px; border: 1px solid #ccc; border-radius: 3px; font-size: 12px;"
                        placeholder="Document patient's condition, tolerance, and any issues...">Patient arrived in good spirits. Vital signs stable. Pre-treatment labs acceptable for chemotherapy administration. IV access established without difficulty. Tolerated pre-medications well. Oxaliplatin infusion started on schedule. Patient reports mild nausea, managed with additional antiemetics. No signs of hypersensitivity reaction. Continuing with protocol as planned.</textarea>
                </div>

                <div style="margin-bottom: 15px;">
                    <label style="font-weight: bold; display: block; margin-bottom: 5px;">Plan for Next
                        Visit/Cycle:</label>
                    <textarea contenteditable="true"
                        style="width: 100%; height: 60px; padding: 8px; border: 1px solid #ccc; border-radius: 3px; font-size: 12px;"
                        placeholder="Document plans, dose modifications, supportive care changes...">Continue FOLFOX protocol. Monitor for cumulative neuropathy. Consider prophylactic antiemetics if nausea persists. Next cycle scheduled for November 6, 2025. Pre-treatment labs to be drawn November 5.</textarea>
                </div>

                <div style="display: flex; gap: 15px;">
                    <div style="flex: 1;">
                        <label style="font-weight: bold; display: block; margin-bottom: 5px;">Provider:</label>
                        <input type="text"
                            style="width: 100%; padding: 5px; border: 1px solid #ccc; border-radius: 3px;"
                            value="Dr. Sarah Johnson, MD">
                    </div>
                    <div style="flex: 1;">
                        <label style="font-weight: bold; display: block; margin-bottom: 5px;">Date/Time:</label>
                        <input type="datetime-local"
                            style="width: 100%; padding: 5px; border: 1px solid #ccc; border-radius: 3px;"
                            value="2025-10-16T10:30">
                    </div>
                </div>
            </div>
        </div>

        <!-- Cycle Overview Tab -->
        <div id="cycle-overview" class="tab-content">
            <div class="protocol-section">
                <h3 style="margin: 0 0 15px 0;">Cycle 1 Overview (Oct 16 - Nov 6, 2025)</h3>

                <div
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-bottom: 20px;">
                    <div style="background: #e8f5e8; padding: 12px; border-radius: 5px;">
                        <h3 style="margin: 0 0 10px 0; color: #155724;">Treatment Days</h3>
                        <div style="font-size: 11px; gap: 2px;">
                            <div contenteditable="true" class="spacing"><strong>Day 1 (Oct 16):</strong> <span
                                    class="status-badge status-inprogress">In Progress</span></div>
                            <div contenteditable="true" class="spacing"><strong>Day 2 (Oct 17):</strong> <span
                                    class="status-badge status-planned">Planned</span></div>
                            <div contenteditable="true" class="spacing"><strong>Day 3 (Oct 18):</strong> <span
                                    class="status-badge status-planned">Planned</span></div>
                        </div>
                    </div>

                    <div style="background: #fff3cd; padding: 12px; border-radius: 5px;">
                        <h3 style="margin: 0 0 10px 0; color: #856404;">Key Milestones</h3>
                        <div style="font-size: 11px;">
                            <div contenteditable="true" class="spacing">‚Ä¢ Pump disconnection: Oct 18</div>
                            <div contenteditable="true" class="spacing">‚Ä¢ Post-treatment labs: Oct 23</div>
                            <div contenteditable="true" class="spacing">‚Ä¢ Toxicity assessment: Oct 30</div>
                            <div contenteditable="true" class="spacing">‚Ä¢ Cycle 2 planning: Nov 2</div>
                        </div>
                    </div>

                    <div style="background: #f8d7da; padding: 12px; border-radius: 5px;">
                        <h3 style="margin: 0 0 10px 0; color: #721c24;">Monitoring Alerts</h3>
                        <div style="font-size: 11px;">
                            <div contenteditable="true" class="spacing">‚Ä¢ Watch for neuropathy symptoms</div>
                            <div contenteditable="true" class="spacing">‚Ä¢ Monitor CBC on Day 10</div>
                            <div contenteditable="true" class="spacing">‚Ä¢ Assess for delayed nausea</div>
                        </div>
                    </div>
                </div>

                <table class="medication-table editable-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Day</th>
                            <th>Scheduled Treatments</th>
                            <th>Status</th>
                            <th>Key Events</th>
                            <th>Provider Notes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: #d1ecf1;">
                            <td contenteditable="true">Oct 16, 2025</td>
                            <td contenteditable="true">Day 1</td>
                            <td contenteditable="true">FOLFOX (Full protocol)</td>
                            <td contenteditable="true"><span class="status-badge status-inprogress">In Progress</span>
                            </td>
                            <td contenteditable="true">Treatment initiation, pump start</td>
                            <td contenteditable="true">Mild nausea, well controlled</td>
                        </tr>
                        <tr>
                            <td contenteditable="true">Oct 17, 2025</td>
                            <td contenteditable="true">Day 2</td>
                            <td contenteditable="true">5-FU continuous (ongoing)</td>
                            <td contenteditable="true"><span class="status-badge status-planned">Planned</span></td>
                            <td contenteditable="true">Pump monitoring, patient check</td>
                            <td contenteditable="true">Phone follow-up scheduled</td>
                        </tr>
                        <tr>
                            <td contenteditable="true">Oct 18, 2025</td>
                            <td contenteditable="true">Day 3</td>
                            <td contenteditable="true">Pump disconnection</td>
                            <td contenteditable="true"><span class="status-badge status-planned">Planned</span></td>
                            <td contenteditable="true">End of infusion, pump return</td>
                            <td contenteditable="true">Toxicity assessment due</td>
                        </tr>
                        <tr>
                            <td contenteditable="true">Oct 23, 2025</td>
                            <td contenteditable="true">Day 8</td>
                            <td contenteditable="true">Labs only</td>
                            <td contenteditable="true"><span class="status-badge status-planned">Planned</span></td>
                            <td contenteditable="true">CBC, CMP monitoring</td>
                            <td contenteditable="true">Call with results</td>
                        </tr>
                        <tr>
                            <td contenteditable="true">Nov 6, 2025</td>
                            <td contenteditable="true">Day 22 (Cycle 2)</td>
                            <td contenteditable="true">FOLFOX Cycle 2</td>
                            <td contenteditable="true"><span class="status-badge status-planned">Planned</span></td>
                            <td contenteditable="true">Pre-treatment assessment</td>
                            <td contenteditable="true">Dose review needed</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="footer-buttons">
            <div>
                <label>
                    <input type="checkbox" id="diluent-control">
                    Diluent Control
                </label>
                <label>
                    <input type="checkbox" id="pre-medication-control">
                    Pre Medication Control
                </label>
                <label>
                    <input type="checkbox" id="dose-medication">
                    Dose Medication
                </label>
            </div>
            <div>
                <button class="btn btn-primary" onclick="saveProgress()">Save Progress</button>
                <button class="btn" onclick="printReport()">Print Daily Report</button>
                <button class="btn btn-warning" onclick="modifyDose()">Modify Dose</button>
                <button class="btn btn-danger" onclick="holdTreatment()">Hold Treatment</button>
                <button class="btn" onclick="scheduleNext()">Schedule Next</button>
                <button class="btn btn-primary" onclick="signOff()">Sign Off Day</button>
                <button class="btn" onclick="closeDay()">Close</button>
            </div>

        </div>
    </div>

    <script>
        // Get the current date
        const today = new Date();

        // Format date as "Month Day, Year"
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        const formattedDate = today.toLocaleDateString('en-US', options);

        // Set the content of the span
        document.getElementById('current-date').textContent = `${formattedDate} - Cycle 1, Day 1`;
        // Tab functionality
        function showTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));

            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            // Show selected tab content
            document.getElementById(tabName).classList.add('active');

            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        // Initialize date, cycle, and day
        let currentDate = new Date(); // today
        let currentCycle = 1;
        let currentDay = 1;

        // Function to update display
        function updateDisplay() {
            const dateDisplay = document.getElementById('current-date');
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            dateDisplay.textContent = `${currentDate.toLocaleDateString('en-US', options)} - Cycle ${currentCycle}, Day ${currentDay}`;
        }

        // Function to change date
        function changeDate(direction) {
            currentDate.setDate(currentDate.getDate() + direction);
            currentDay += direction;

            // Optional: handle cycle increment if needed
            // e.g., every 21 days = new cycle
            if (currentDay > 21) {
                currentCycle++;
                currentDay = 1;
            } else if (currentDay < 1) {
                currentCycle = Math.max(1, currentCycle - 1);
                currentDay = 21; // assuming previous cycle had 21 days
            }

            updateDisplay();

            // Update medication statuses based on day
            updateMedicationStatuses();
        }

        function updateMedicationStatuses() {
            // This would load the actual data for the selected date
            // For demo purposes, we'll just update some visual indicators
            console.log(`Loading data for Cycle ${currentCycle}, Day ${currentDay}`);
        }

        // Medication status updates
        document.addEventListener('change', function (e) {
            if (e.target.classList.contains('status-dropdown')) {
                const row = e.target.closest('tr');
                const status = e.target.value;

                // Update row styling based on status
                row.className = '';
                switch (status) {
                    case 'completed':
                        row.classList.add('row-completed');
                        break;
                    case 'delayed':
                        row.classList.add('row-delayed');
                        break;
                    case 'held':
                    case 'cancelled':
                        row.classList.add('row-modified');
                        break;
                }

                // Auto-fill end time if completed
                if (status === 'completed') {
                    const endTimeInput = row.querySelector('input[type="time"]:last-of-type');
                    if (!endTimeInput.value) {
                        const now = new Date();
                        endTimeInput.value = now.toTimeString().slice(0, 5);
                    }
                }
            }
        });

        // Button functionality
        function saveProgress() {
            // Collect all form data and save
            const formData = {
                date: currentDate.toISOString().split('T')[0],
                cycle: currentCycle,
                day: currentDay,
                medications: [],
                labValues: {},
                sideEffects: {},
                notes: {}
            };

            // Collect medication statuses
            document.querySelectorAll('.medication-table tbody tr').forEach(row => {
                const drugName = row.querySelector('.drug-name')?.textContent;
                const status = row.querySelector('.status-dropdown')?.value;
                const startTime = row.querySelector('input[type="time"]')?.value;
                const endTime = row.querySelectorAll('input[type="time"]')[1]?.value;
                const notes = row.querySelector('.notes-textarea')?.value;

                if (drugName) {
                    formData.medications.push({
                        drug: drugName,
                        status: status,
                        startTime: startTime,
                        endTime: endTime,
                        notes: notes
                    });
                }
            });

            console.log('Saving progress:', formData);
            alert('Progress saved successfully!');
        }

        function printReport() {
            window.print();
        }

        function modifyDose() {
            const reason = prompt('Enter reason for dose modification:');
            if (reason) {
                // Open dose modification dialog
                alert('Dose modification dialog would open here');
            }
        }

        function holdTreatment() {
            const reason = prompt('Enter reason for holding treatment:');
            if (reason) {
                // Update all pending medications to "held" status
                document.querySelectorAll('.status-dropdown').forEach(select => {
                    if (select.value === 'planned' || select.value === 'started') {
                        select.value = 'held';
                        select.dispatchEvent(new Event('change'));
                    }
                });
                alert('Treatment held. All pending medications updated.');
            }
        }

        function scheduleNext() {
            alert('Next appointment scheduling would open here');
        }

        function signOff() {
            if (confirm('Sign off on today\'s treatment? This will lock the record.')) {
                alert('Day signed off successfully!');
            }
        }

        function closeDay() {
            if (confirm('Close this treatment day?')) {
                window.close();
            }
        }

        // Auto-save functionality
        setInterval(function () {
            // Auto-save every 5 minutes
            const autoSaveData = {
                timestamp: new Date().toISOString(),
                status: 'auto-saved'
            };
            console.log('Auto-saving...', autoSaveData);
        }, 300000); // 5 minutes

        // Load initial data
        document.addEventListener('DOMContentLoaded', function () {
            console.log('Chemotherapy progress tracking system loaded');

            // Initialize real-time clock
            setInterval(function () {
                const now = new Date();
                const timeString = now.toLocaleTimeString();
                // Update any time displays if needed
            }, 1000);
        });

        // Medication completion helpers
        document.querySelectorAll('.btn-icon[title="Mark Complete"]').forEach(btn => {
            btn.addEventListener('click', function () {
                const row = this.closest('tr');
                const statusSelect = row.querySelector('.status-dropdown');
                const endTimeInput = row.querySelectorAll('input[type="time"]')[1];

                statusSelect.value = 'completed';
                statusSelect.dispatchEvent(new Event('change'));

                if (!endTimeInput.value) {
                    const now = new Date();
                    endTimeInput.value = now.toTimeString().slice(0, 5);
                }
            });
        });

        document.querySelectorAll('.btn-icon[title="Start"]').forEach(btn => {
            btn.addEventListener('click', function () {
                const row = this.closest('tr');
                const statusSelect = row.querySelector('.status-dropdown');
                const startTimeInput = row.querySelector('input[type="time"]');

                statusSelect.value = 'started';
                statusSelect.dispatchEvent(new Event('change'));

                if (!startTimeInput.value) {
                    const now = new Date();
                    startTimeInput.value = now.toTimeString().slice(0, 5);
                }
            });
        });

        function addRow() {
            const table = document.getElementById("medTable").getElementsByTagName('tbody')[0];
            const newRow = table.rows[0].cloneNode(true); // clone first row
            // Clear values in inputs, textarea, selects
            newRow.querySelectorAll('input').forEach(input => input.value = '');
            newRow.querySelectorAll('textarea').forEach(txt => txt.value = '');
            newRow.querySelectorAll('select').forEach(sel => sel.selectedIndex = 0);
            table.appendChild(newRow);
        }

        // Function to delete a row
        function deleteRow(btn) {
            const row = btn.closest('tr');
            const tbody = row.parentNode;
            if (tbody.rows.length > 1) {
                tbody.removeChild(row);
            } else {
                alert("At least one row must remain.");
            }
        }
    </script>
</body>

</html>